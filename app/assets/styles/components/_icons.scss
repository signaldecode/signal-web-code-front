@use '../tokens/icons' as *;
@use '../tokens/colors' as *;
@use '../tokens/typography' as *;
@use '../tokens/breakpoints' as *;

// Base Icon 컴포넌트 스타일
.base-icon {
  @include icon-base(md);

  // 사이즈 variants
  &--size-xs { @include icon-base(xs); }
  &--size-sm {
    @include icon-base(sm);

    @include mobile-xs {
      width: 16px;
      height: 16px;
    }
  }
  &--size-md { @include icon-base(md); }
  &--size-lg { @include icon-base(lg); }
  &--size-xl { @include icon-base(xl); }
  &--size-2xl { @include icon-base(2xl); }
  &--size-3xl { @include icon-base(3xl); }
  &--size-4xl { @include icon-base(4xl); }
  &--size-5xl { @include icon-base(5xl); }
  &--size-6xl { @include icon-base(6xl); }

  // 컬러 variants
  &--color-default {
    color: icon-color(default);
  }

  &--color-light {
    color: icon-color(light);
  }

  &--color-disabled {
    color: icon-color(disabled);
  }

  &--color-primary {
    color: icon-color(primary);
  }

  &--color-muted {
    color: icon-color(muted);
  }
}

// 슬라이드 버튼 컴포넌트 스타일
.slide-button {
  @include icon-button(5xl);
  border: 1px solid $Border-Border-line-100;
  border-radius: 50%;
  color: $Text-Primary-text-color;
  transition: border-color 0.2s, color 0.2s, opacity 0.2s;

  svg {
    width: icon-size(md);
    height: icon-size(md);
    
  }

  &:hover:not(:disabled) {
    border-color: $Border-Border-line-200;
  }

  &--disabled,
  &:disabled {
    // opacity: 0.4;
    cursor: not-allowed;
  }

  // 히어로 슬라이드 버튼 variant
  &--hero {
    width: 65px;
    height: 65px;
    border: none;
    border-radius: 0;
    color: icon-color(light);
    background: transparent;

    svg {
      width: 65px;
      height: 65px;
    }

    &:hover:not(:disabled) {
      opacity: 0.7;
    }
  }

  // 상품 상세 등에서 사용하는 미니멀 variant
  &--minimal {
    width: 48px;
    height: 48px;
    border: none;
    border-radius: 0;
    background: transparent;
    color: $Text-Primary-text-color;

    svg {
      width: 32px;
      height: 32px;
    }

    &:hover:not(:disabled) {
      opacity: 0.6;
    }
  }
}

// CSS 변수로 아이콘 컬러 제공 (런타임 동적 변경용)
:root {
  --icon-color-default: #{icon-color(default)};
  --icon-color-light: #{icon-color(light)};
  --icon-color-disabled: #{icon-color(disabled)};
  --icon-color-primary: #{icon-color(primary)};
  --icon-color-muted: #{icon-color(muted)};
}

// Quantity Selector
.quantity-selector {
  display: inline-flex;
  align-items: center;

  &__btn {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 36px;
    height: 36px;
    background: none;
    border: none;
    cursor: pointer;
    color: $Text-Primary-text-color;
    transition: opacity 0.2s;

    &:hover:not(:disabled) {
      opacity: 0.6;
    }

    &:disabled {
      color: $Text-Disabled-color;
      cursor: not-allowed;
    }
  }

  &__input {
    width: 50px;
    height: 36px;
    text-align: center;
    border: none;
    background: transparent;
    font-size: 14px;
    color: $Text-Primary-text-color;

    &::-webkit-outer-spin-button,
    &::-webkit-inner-spin-button {
      -webkit-appearance: none;
      margin: 0;
    }

    &[type=number] {
      -moz-appearance: textfield;
    }
  }
}

// Heart Icon
.icon-heart {
  color: $Text-Thirty-text-color;
  transition: color 0.2s;

  &--filled {
    color: $Error-color;
  }
}

// Cart Icon with Badge
.icon-cart {
  position: relative;

  &__badge {
    position: absolute;
    top: -4px;
    right: -4px;
    display: flex;
    align-items: center;
    justify-content: center;
    min-width: 14px;
    height: 14px;
    padding: 0 3px;
    background-color: $Border-Border-line-200;
    color: $Primary-white-color;
    @include typo-body-5;
    font-weight: 600;
    line-height: 1;
    border-radius: 7px;
  }
}
